{"version":3,"sources":["components/App.js","index.js"],"names":["Text","Typography","Option","Select","currencies","savedQueries","id","Home","useState","amount","setAmount","firstCurrency","setFirstCurrency","secondCurrency","setSecondCurrency","rate","setRate","activeFirstCurrencies","map","currency","disabled","value","activeSecondCurrencies","placeholder","style","width","onChange","e","inputValue","target","match","console","log","defaultValue","url","fetch","then","response","json","data","rates","toFixed","strong","onClick","handleSubmit","CheckCircleTwoTone","twoToneColor","title","icon","PushpinTwoTone","result","query","push","Modal","success","content","className","href","rel","History","Settings","props","checked","showHistory","setShowHistory","prev","showHome","setShowHome","showSettings","setShowSettings","App","basename","process","exact","to","path","component","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.97743895.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { BrowserRouter as Router, NavLink, Route } from 'react-router-dom'\r\nimport './App.css';\r\nimport { Select, Button, Input, Typography, Switch, Tooltip, Modal } from 'antd';\r\nimport {  CheckCircleTwoTone, PushpinTwoTone  } from '@ant-design/icons';\r\n\r\n\r\nconst { Text } = Typography;\r\nconst { Option } = Select;\r\n\r\nconst currencies = [\"EUR\",\"PLN\",\"GBP\", \"SEK\", \"AUD\", \"HUF\", \"RUB\", \"NOK\", \"CZK\", \"DKK\", \"CHF\", \"JPY\"];\r\nconst savedQueries = [];\r\nlet id = 0; \r\n\r\n\r\nconst Home = () => {\r\n  const [amount, setAmount] = useState(\"\");\r\n\r\n\r\n  const [firstCurrency, setFirstCurrency] = useState(\"EUR\");\r\n  const [secondCurrency, setSecondCurrency] = useState(\"PLN\");\r\n  const [rate, setRate] = useState(\"\");\r\n\r\n  const handleAmountChange = (e) => {\r\n\r\n    const inputValue = e.target.value;\r\n    const validRegex = /^[0-9]+(\\.[0-9]{1,2})?$/;\r\n    \r\n    // if( validRegex.test(inputValue) === true ) {\r\n    //   console.log(\"dobrze\")\r\n    // }else {\r\n    //   console.log(\"zle\")\r\n    // }\r\n    \r\n    // const inputValidation = function() {\r\n    //   return validRegex.test(inputValue);\r\n    // } \r\n    // console.log(inputValidation)\r\n\r\n    if(!!inputValue.match(/(?=.)^\\$?(([1-9][0-9]{0,20}(,[0-9]{3})*)|0)?(\\.[0-9]{1,2})?$/)){\r\n      setAmount(inputValue)\r\n\r\n    }else{\r\n      console.log(\"babol\")\r\n    }\r\n    \r\n\r\n\r\n      \r\n\r\n    \r\n    // setAmount(e.target.value)\r\n  }\r\n\r\n\r\n    const activeFirstCurrencies = currencies.map(currency => <Option disabled = {currency === secondCurrency ? true : false}  key = {currency}value = {currency}>{currency}</Option>)\r\n    // const activeSecondCurrencies = currencies.map(currency => currency.filter((currency) =><Option key = {currency}value = {currency}>{currency}</Option>))\r\n    const activeSecondCurrencies = currencies.map(currency => <Option disabled = {currency === firstCurrency ? true : false} key = {currency}value = {currency}>{currency}</Option>)\r\n    return (\r\n      <>\r\n        <Input placeholder=\"Podaj kwotę\" style={{ width: '25%' }} onChange={handleAmountChange} value = {amount} />\r\n        <Select disabled = {amount === \"\" ? true : false} defaultValue=\"EUR\" style={{ width: 120 }} onChange={handleChangeFirstCurrency}>\r\n            {activeFirstCurrencies}\r\n        </Select>\r\n        <Text strong > Przelicz na: </Text>\r\n        <Select disabled = {amount === \"\" ? true : false} defaultValue=\"PLN\" style={{ width: 120 }} onChange={handleChangeSecondCurrency}>\r\n           {activeSecondCurrencies}\r\n        </Select>\r\n\r\n        <Button disabled = {amount === \"\" ? true : false} onClick = {() => handleSubmit()}>Przelicz <CheckCircleTwoTone twoToneColor=\"#52c41a\" /></Button>\r\n\r\n        {\r\n            rate ? \r\n\r\n            <>\r\n              <section>\r\n                  <p>Wybrana kwota: <strong>{amount} {firstCurrency}</strong> </p>\r\n                  <p>Aktualny kurs: <strong>{firstCurrency} / {secondCurrency}</strong> to<strong> {rate}</strong></p>\r\n                  <p>Po przeliczeniu otrzymasz: <strong>{(amount * rate).toFixed(2)} {secondCurrency}</strong></p>\r\n\r\n                  <Tooltip title=\"zapisz...\">\r\n                  <Button icon={<PushpinTwoTone />} onClick={handleSaveButton}>Zapisz</Button>\r\n                  </Tooltip>\r\n\r\n                  <p className=\"footer\"> <a href = \"https://www.ecb.europa.eu/stats/policy_and_exchange_rates/euro_reference_exchange_rates/html/index.en.html\" rel=\"noreferrer\" target = \"_blank\">European Central Bank</a></p>\r\n              </section>\r\n            </>\r\n             :\r\n\r\n              <section>\r\n                <p>Proszę podać kwotę oraz waluty.</p>\r\n              </section>\r\n                \r\n        }\r\n      </>\r\n  )\r\n\r\n\r\n  function success() {\r\n\r\n    Modal.success({\r\n      content: `Zapisano: ${amount} ${firstCurrency} * ${rate} kwota: ${(amount * rate).toFixed(2)} ${secondCurrency}`,\r\n    });\r\n  }\r\n\r\n  function warning() {\r\n    Modal.warning({\r\n      title: 'Błąd',\r\n      content: 'Prosze podać porawna wartość...',\r\n    });\r\n  }\r\n\r\n  function handleSaveButton() {\r\n    const result = (amount * rate).toFixed(2);\r\n\r\n    const query = {\r\n      id,\r\n      amount,\r\n      firstCurrency,\r\n      rate,\r\n      result,\r\n      secondCurrency\r\n    }\r\n    id++;\r\n    savedQueries.push(query);\r\n    success();\r\n    };\r\n\r\n\r\n  function handleChangeFirstCurrency(value) {\r\n\r\n      setFirstCurrency(value);\r\n   \r\n    const url = `https://api.ratesapi.io/api/latest?base=${value}`;\r\n    fetch(url)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      console.log(data.rates[secondCurrency])\r\n      setRate( (data.rates[secondCurrency]).toFixed(2) )\r\n\r\n\r\n    } )\r\n  \r\n\r\n  }\r\n  \r\n  function handleChangeSecondCurrency(value) {\r\n  \r\n      setSecondCurrency(value);\r\n    \r\n    const url = `https://api.ratesapi.io/api/latest?base=${firstCurrency}`;\r\n    fetch(url)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      setRate( (data.rates[value]).toFixed(2) )\r\n\r\n\r\n    } )\r\n  \r\n  }\r\n\r\n function handleSubmit()  {\r\n    const url = `https://api.ratesapi.io/api/latest?base=${firstCurrency}`;\r\n    fetch(url)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      setRate( (data.rates[secondCurrency]).toFixed(2) );\r\n    } )\r\n  \r\n  \r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nconst History = () =>  {\r\n\r\n   return (\r\n    \r\n     <div className = \"history\">\r\n            <ul>\r\n                  {\r\n                    savedQueries.map(query =>\r\n                      <li key={query.id}>Kwota: <strong> {query.amount} {query.firstCurrency} </strong> * <strong> {query.rate}</strong> Otrzymana kwota:<strong> {query.result} {query.secondCurrency}</strong>  </li>\r\n                    )\r\n                  }\r\n          </ul>\r\n    </div>\r\n   )\r\n  }\r\n\r\n\r\nconst Settings = props => {\r\n  return (\r\n    <>\r\n      <section><label>Pokaż / ukryj historię: <Switch checked = {props.showHistory} onChange={() => props.setShowHistory(prev => !prev)}/></label></section>\r\n      <section><label>Pokaż / ukryj Main Page: <Switch checked = {props.showHome}   onChange={() => props.setShowHome(prev => !prev)}/></label></section>\r\n      <section><label>Pokaż / ukryj Settings: <Switch checked = {props.showSettings}   onChange={() => props.setShowSettings(prev => !prev)}/></label></section>\r\n    </>\r\n  )\r\n  \r\n}\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  const [showHome, setShowHome] = useState(true);\r\n  const [showHistory, setShowHistory] = useState(true);\r\n  const [showSettings, setShowSettings] = useState(true);\r\n\r\n\r\n  return (\r\n    <Router basename = {process.env.PUBLIC_URL}>\r\n        <div className = \"main\">\r\n\r\n          <header>\r\n            <nav>\r\n              <ul className= \"ulFlex\">\r\n                {showHome ? <li className = \"flex\"><NavLink exact to=\"/\">Main page</NavLink></li> : null}\r\n                {showHistory ?  <li className = \"flex\"><NavLink to=\"/history\">History</NavLink></li> : null}\r\n                {showSettings ? <li className = \"flex\"><NavLink to=\"/settings\">Settings</NavLink></li> : null}\r\n              </ul>\r\n            </nav>\r\n          </header>\r\n          { showHome === false && showSettings === false ?\r\n          <section>This exactly how Reflex works...</section>\r\n            :\r\n          <section>\r\n            <Route exact path = \"/\" component = {Home}/>\r\n            <Route path = \"/History\" component = {History}/>\r\n            <Route path = \"/Settings\" render = {() => <Settings showHome = {showHome} setShowHome = {setShowHome} showHistory = {showHistory} setShowHistory = {setShowHistory} showSettings = {showSettings} setShowSettings = {setShowSettings} />}/>\r\n          </section>\r\n}\r\n        </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport 'antd/dist/antd.css';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}